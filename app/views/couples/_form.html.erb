<div class="row">
    <div class="col-md-8">
        <div class="card">            
              <div class="card-header pb-0">                         
                <div class="d-flex align-items-center">
                  <p class="h4">Event:&nbsp;</p>
                  <p class="h4"><%= couple.event.name.titleize%> [ID <%= couple.event.id%>]&nbsp;&nbsp;
                    <span class="badge badge-pill badge-lg bg-gradient-success"><%=(couple.event.mixed? ? "MIXED COUPLES":"FIXED COUPLES" ) %></span>&nbsp;&nbsp;
                    <span class="badge badge-pill badge-lg bg-gradient-danger"><%="  CLOSED" if couple.event.status.upcase == "CLOSED"%></span>                    
                  </p>
                                  


                <%= link_to(event_couples_path(couple.event_id), class:"btn btn-sm btn-primary ms-auto") do %>
                          Couple list&nbsp;&nbsp;<i class="fa fa-list-o"></i>
                        <%end%>
                </div>
                <div class="d-flex align-items-center">
                  <p class="h4">Date:&nbsp;</p>
                  <p class="h4"><%=local_time(couple.event.created_at, %"%d/%m/%Y") %> at <%=couple.event.timeIni.strftime("%H:%M")%> - <%=couple.event.timeEnd.strftime("%H:%M")%>  </p>
                </div>
                <div class="d-flex align-items-center">
                  <p class="h4">Maximum players: <%=couple.event.people%></p>                                                          
                </div>              
            </div>
            <%= form_with(model: couple) do |f| %>
              <% if couple.errors.any? %>
                <div style="color: red">
                  <h2><%= pluralize(couple.errors.count, "error") %> prohibited this event from being saved:</h2>

                  <ul>
                    <% couple.errors.each do |error| %>
                      <li><%= error.full_message %></li>
                    <% end %>
                  </ul>
                </div>
              <% end %>

              <div class="card-body">                          
                  <div class="row">                      
                      <div class="col-md-8">
                          <div class="form-group">
                              <label for="example-text-input" class="form-control-label">Player 1</label>
                              <%= f.select :player_id, options_for_select(@players_to_mate.collect{ |player|
                                                                         [player.name << " - " << player.cellphone, player.id  ] }, couple.player_id), {}, {id: 'select2_player',class:"form-control m-b",  required: true} %>

                          </div>
                      </div>
                      <div class="col-md-8">
                          <div class="form-group">
                              <label for="example-text-input" class="form-control-label">Player 2</label>
                              <%= f.select :mate_id, options_for_select(@players_to_mate.collect { |player|
                                                                         [player.name  << " - " << player.cellphone, player.id] }, couple.mate_id), {}, {id: 'select2_mate',class:"form-control m-b",  required: true} %>
                          </div>
                      </div>
                      <%= f.hidden_field :event_id %>
                  </div>
                  <hr class="horizontal dark">
                  <div class="form-group">
                    <div class="col-sm-4 col-sm-offset-2">                      
                      <%= button_tag(type: 'submit', data: {turbo: false}, class: "btn bg-gradient-success ms-auto") do %>
                        Save&nbsp;&nbsp;<i class="fa fa-database"></i>
                      <% end %>
                    </div>
                  </div>
                  
              </div>
            <% end %>

        </div>
    </div>                
</div>
<script type="text/javascript">
  // In your Javascript (external .js resource or <script> tag)
  $(document).ready(function() {
      //$('.js-example-basic-single').select2();
      $('#select2_player').select2();
      $('#select2_mate').select2();
  });
</script>
